{"version":3,"sources":["components/filter.js","components/person.js","components/personForm.js","components/messages.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","Person","person","removePerson","name","number","onClick","PersonForm","onSubmit","nameChange","numberChange","type","Notification","message","className","ErrorMessage","baseUrl","personService","create","personObject","axios","post","then","response","data","getAll","get","remove","id","delete","update","newPerson","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","errorMessage","setErrorMessage","useEffect","personsToShow","toLowerCase","includes","event","target","preventDefault","some","window","confirm","find","p","updatedPerson","map","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0735e842.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n            filter with <input\n                      value={props.filter}\n                      onChange={props.onChange}\n                    />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = ({person, removePerson}) => {\n    return (\n        <p>\n          {person.name} {person.number}\n          <button onClick={removePerson}>\n            delete\n          </button>\n        </p>  \n    )\n  }\n\nexport default Person","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <div>\n      <h2>Add a new</h2>\n      <form onSubmit={props.onSubmit}>\n        <div>\n          name: <input \n                  value={props.name}\n                  onChange={props.nameChange}\n                />\n        </div>\n        <div>\n          number: <input \n                  value={props.number}\n                  onChange={props.numberChange}\n                />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"message\">\n        {message}\n      </div>\n    )\n}\n\nconst ErrorMessage = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n}\n  \n  export { Notification, ErrorMessage }\n  ","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst create = (personObject) => {\n  const request = axios.post(baseUrl, personObject)\n  return request.then(response => response.data)\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nconst personService = {\n  create, \n  getAll, \n  remove, \n  update\n}\n\nexport default personService","import React, { useEffect, useState } from 'react'\nimport Filter from './components/filter'\nimport Person from './components/person'\nimport PersonForm from './components/personForm'\nimport {Notification, ErrorMessage} from './components/messages'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const personsToShow = \n    persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n \n  const addPerson = (event) => {\n    event.preventDefault()\n    \n    if(!persons.some(person => person.name === newName)){\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      \n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setMessage(\n            `Added ${response.name}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n        })\n\n    } else  if(window.confirm(`${newName} is already added to phonebook, do you \n    want to replace the number with a new one`)){\n      \n      const person = persons.find(p => p.name === newName)\n      const updatedPerson = {...person, number: newNumber}\n\n      personService\n        .update(person.id, updatedPerson)\n        .then(response => {\n          setPersons(persons.map(p => p.id !== person.id ? p : response))\n          setMessage(\n            `Updated ${person.name}'s number`\n            )\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Information of ${person.name} has already been removed from server`\n            )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 2000)\n          setPersons(persons.filter(p => p.id !== person.id))\n       })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (id) => {\n    const person = persons.find(p => p.id === id)\n    if(window.confirm(`Delete ${person.name}`)){\n      personService.remove(id)\n      setPersons(persons.filter(person => person.id !== id))\n      setMessage(\n        `Removed ${person.name}`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 2000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <ErrorMessage message={errorMessage}/>\n      <Filter value= {newFilter} onChange={handleFilterChange}/>\n      <PersonForm\n        onSubmit={addPerson}\n        name={newName}\n        nameChange={handleNameChange}\n        number={newNumber}\n        numberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {personsToShow.map(person => \n        <Person key = {person.name} person = {person} \n                removePerson={() => removePerson(person.id)}/>\n      )}\n    \n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}